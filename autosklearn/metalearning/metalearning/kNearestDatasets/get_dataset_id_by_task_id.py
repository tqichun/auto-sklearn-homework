#!/usr/bin/env python
# -*- coding: utf-8 -*-
import openml
from pathlib import Path
import json
askl_tasks = ['75236',
              '75106',
              '75181',
              '75150',
              '288',
              '75173',
              '75093',
              '75191',
              '75196',
              '75115',
              '258',
              '75179',
              '75139',
              '75090',
              '75210',
              '2350',
              '75234',
              '2119',
              '75226',
              '261',
              '275',
              '75123',
              '253',
              '2123',
              '273',
              '75243',
              '75168',
              '75174',
              '75110',
              '75107',
              '242',
              '75227',
              '75232',
              '254',
              '75112',
              '75127',
              '244',
              '75099',
              '75092',
              '75188',
              '75233',
              '75185',
              '75250',
              '75156',
              '75187',
              '75125',
              '75114',
              '251',
              '75129',
              '75195',
              '75223',
              '75231',
              '75097',
              '75205',
              '75157',
              '262',
              '75153',
              '75202',
              '75132',
              '2117',
              '75198',
              '75239',
              '75096',
              '75095',
              '75203',
              '75176',
              '75124',
              '75177',
              '75105',
              '75103',
              '233',
              '248',
              '75141',
              '75098',
              '75143',
              '3043',
              '75178',
              '75169',
              '252',
              '75222',
              '75201',
              '75101',
              '75193',
              '75184',
              '75116',
              '75244',
              '75248',
              '260',
              '75207',
              '246',
              '75225',
              '75109',
              '75175',
              '75133',
              '75142',
              '75120',
              '75215',
              '75219',
              '75230',
              '75171',
              '75240',
              '75126',
              '75189',
              '75192',
              '75166',
              '75212',
              '75213',
              '75134',
              '2122',
              '75163',
              '75154',
              '75235',
              '75108',
              '75237',
              '75249',
              '266',
              '75161',
              '75119',
              '75117',
              '75148',
              '2120',
              '236',
              '75159',
              '75146',
              '75182',
              '75121',
              '75113',
              '75172',
              '75221',
              '75100',
              '75217',
              '75197']
task2dataset={}
cnt=1
for task_id in askl_tasks:
    task_id=int(task_id)
    task = openml.tasks.get_task(task_id)
    dataset_id=task.dataset_id
    task2dataset[str(task_id)]=str(dataset_id)
    print(f'finish get {task_id}->{dataset_id}, process = {cnt}/{len(askl_tasks)}')
    cnt+=1
Path("task2dataset.json").write_text(json.dumps(task2dataset))


